#! /usr/bin/env coffee

notice = require '../../lib/notice'

notice.connect "client #{process.env.NAME}", {

    context: 
        some: 'details'

    connect: 
        # address: 'localhost'
        allowUncertified: true # tolerate self sighned cert on serverside
        transport:       'https'
        port:             10101
        secret:           process.env.SECRET
        errorWait:        1000

}, (error, client) -> 
    
    return console.log error if error?
    console.log CLIENT: client

    client.use title: 'test', (next, capsule) -> 

        console.log capsule.debug
        next()

    client.event 'name'




